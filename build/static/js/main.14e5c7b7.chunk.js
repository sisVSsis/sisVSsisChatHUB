(this.webpackJsonpsisvssischathu=this.webpackJsonpsisvssischathu||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=(a(60),a(22)),u=a(4),o=a(16),l=a(23),p=a.n(l),h=(a(63),p.a.initializeApp({apiKey:"AIzaSyANEHC7WXOG8Bi6LJuV7bEHuuNVQxsAabo",authDomain:"sisvssis-chats.firebaseapp.com",projectId:"sisvssis-chats",storageBucket:"sisvssis-chats.appspot.com",messagingSenderId:"608800973405",appId:"1:608800973405:web:69682c441ddbc177da23b4"}).auth()),m=r.a.createContext();function f(e){var t=e.children,a=Object(n.useState)(!0),c=Object(o.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(),p=Object(o.a)(l,2),f=p[0],d=p[1],v=Object(u.f)();Object(n.useEffect)((function(){h.onAuthStateChanged((function(e){d(e),i(!1),v.push("/chats")}))}),[f,v]);var b={user:f};return r.a.createElement(m.Provider,{value:b},!s&&t)}var d=a(17),v=a.n(d),b=a(33),g=a(3),E=a.n(g),j=a(53);function O(){var e=Object(n.useRef)(!1),t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useContext)(m).user,l=Object(u.f)();function p(){return(p=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.signOut();case 2:l.push("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(b.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return n=e.sent,e.abrupt("return",new File([n],"test.jpg",{type:"image/jpeg"}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(!e.current){if(e.current=!0,!i||null===i)return void l.push("/");E.a.get("https://api.chatengine.io/users/me/",{headers:{"project-id":"67975a1a-e6a3-4a16-9928-60f6a5ff01a5","user-name":i.email,"user-secret":i.uid}}).then((function(){return s(!1)})).catch((function(e){var t=new FormData;t.append("email",i.email),t.append("username",i.email),t.append("secret",i.uid),function(e){return f.apply(this,arguments)}(i.photoURL).then((function(e){t.append("avatar",e,e.name),E.a.post("https://api.chatengine.io/users/",t,{headers:{"private-key":"247407af-0afe-4199-9866-75a9c2e9500e"}}).then((function(){return s(!1)})).catch((function(e){return console.log("e",e.response)}))}))}))}}),[i,l]),!i||c?r.a.createElement("div",null):r.a.createElement("div",{className:"chats-page"},r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",{className:"logo-tab"},"sisVSsis ChatHUB"),r.a.createElement("div",{onClick:function(){return p.apply(this,arguments)},className:"logout-tab"},"Logout")),r.a.createElement(j.d,{height:"calc(100vh - 66px)",projectID:"67975a1a-e6a3-4a16-9928-60f6a5ff01a5",userName:i.email,userSecret:i.uid}))}var w=a(118);function y(){return r.a.createElement("div",{id:"login-page"},r.a.createElement("div",{id:"login-card"},r.a.createElement("h2",null,"Welcome to sisVSsis ChatHUB!"),r.a.createElement("div",{className:"login-button google",onClick:function(){return h.signInWithRedirect(new p.a.auth.GoogleAuthProvider)}},r.a.createElement(w.a,null)," Sign In with Google"),r.a.createElement("br",null),r.a.createElement("br",null)))}var S=function(){return r.a.createElement("div",{style:{fontFamily:"Avenir"}},r.a.createElement(i.a,null,r.a.createElement(f,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/chats",component:O}),r.a.createElement(u.a,{path:"/",component:y})))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))},55:function(e,t,a){e.exports=a(116)},60:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.14e5c7b7.chunk.js.map